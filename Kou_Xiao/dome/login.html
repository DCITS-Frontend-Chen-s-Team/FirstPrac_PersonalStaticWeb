<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>慕课网-登录</title>
  <link rel="stylesheet" href="./css/html.css">
</head>
<body>
  <div id="title">
    <div class="counter">
    </div>
  </div>
  <div id="main">
    <div class="login">
      <div class="login_head">
        <h1>
          <span class="login_in span1" onclick="TurnToLogin()">登录
            <p></p></span>
          
          <span class="login_form" onclick="TurnToRegister()">注册
            <p></p></span>
        </h1>
      </div>
      <div class="login_body_login wrong">
        <div class="login_sign">
          <div class="sign_email">
            <input class="email_ipt" type="text" name="email" placeholder="请输入登录手机号/邮箱">
            <p class="email_show">请输入正确的邮箱或手机号</p>
          </div>
          <div class="sign_pas">
            <input class="search1" type="password" name="password"  placeholder="请输入密码">
            <p class="pas_show">请输入6-20位密码，区分大小写，不能使用空格！</p>
          </div>
          <div class="sign_check">
            <label>
              <input type="checkbox" checked="checked">
              <a href="#">7天内自动登录</a>
            </label>
            <div class="checkbox_right">
              <a href="#">找回密码</a>
              <a href="#">|</a>
              <a href="#">无法登录</a>
            </div>
          </div>
          <p class="style_box"></p>
          <div class="sign_btu">
            <input type="button" value="登录" class="btu_submit">
          </div>
        </div>
      </div>
      <div class="login_body_form">
        <div class="login_sign">
          <div class="sign_phone">
            <!-- <div class="phone_ipt">
              <input class="phone_ipt1" type="button" value="+89">
              <input class="phone_ipt2" type="text" value="请输入注册手机号">
            </div> -->
            <input class="phone_ipt" type="text" name="email" placeholder="  请输入注册手机号">
            <p class="phone_show">请输入正确手机号</p>
          </div>
          <div class="sign_test">
            <input class="test1" type="password" name="password"  placeholder="请输入验证码">
            <p class="test_show">验证码错误</p>
          </div>
          <div class="sign_check">
            <label>
              <input type="checkbox" >
              <a href="#">同意
                <a href="#" style="color: #04c;">《慕课网注册协议》</a>
                <a href="#">&</a>
                <a href="#" style="color: #04c;">《隐私政策》</a>
              </a>
            </label>
          </div>
          <p class="style_box"></p>
          <div class="sign_btu">
            <input type="button" value="登录" class="btu_submit">
          </div>
        </div>
      </div>
      <div class="login_foot">
        <div class="foot_box">
          <span></span>
          <i></i>
          <i></i>
          <i></i>
        </div>
        <div class="foot_tip"></div>
        <div class="foot_show"></div>
      </div>
    </div>
  </div>
  <div></div>
</body>
<script>
//登录/注册hover效果
var login_in = document.querySelector('login_in');
var login_form = document.querySelector('login_form');




//登录/注册切换
var body_login = document.querySelector('.login_body_login');
var body_form = document.querySelector('.login_body_form');

var TurnToLogin = () => {
  // alert('111');
  //通过控制class：wrong中设置的显示属性
  body_login.className = 'login_body_login wrong';
  body_form.className = 'login_body_form';

}

var TurnToRegister = () => {
  // alert('222');
  body_login.className = 'login_body_login';
  body_form.className = 'login_body_form wrong';
}


//登录
//表单验证
var eipt = document.querySelector('.email_ipt');
var eipt_show = document.querySelector('.email_show');
var str1;

var pasw = document.querySelector('.search1');
var pas_show = document.querySelector('.pas_show')
var strs1;

//邮箱或手机号验证
//用正则函数判断数据格式
function checkemail(str) {
  str=eipt.value;
  //11位数字，以1开头|邮箱
  var re = /^(1((3[\d])|(4[5,6,7,9])|(5[0-3,5-9])|(6[5-7])|(7[0-8])|(8[\d])|(9[1,8,9]))\d{8})|(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;   
  if(re.test(str)){
    // alert('right');
    eipt_show.className = 'email_show';
  }else {
    // alert('worng');
    eipt_show.className = 'email_show wrong';
  }
}

//获取焦点，调用正则函数
eipt.onblur = function() {
  str1 = eipt.value;
  checkemail(str1);
}

//密码验证：请输入6-20位密码，区分大小写，不能使用空格！
function checkpasw(str) {
  var re =/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{6,20}$/;
  if(re.test(str)){
    // alert('right');
    pas_show.className = 'pas_show';
  }else {
    // alert('worng');
    pas_show.className = 'pas_show wrong';
  }
}

pasw.onblur = function() {
  strs1 = pasw.value;
  checkpasw(strs1);
}


//注册
//表单验证
  var phone_ipt = document.querySelector('.phone_ipt');
  var phone_show = document.querySelector('.phone_show');
  var str2;

  var test1 = document.querySelector('.test1');
  var test_show = document.querySelector('.test_show');
  var strs2;


  function checkphone(str) {
    str=phone_ipt.value;
    //11位数字，以1开头|邮箱
    var re = /^(1((3[\d])|(4[5,6,7,9])|(5[0-3,5-9])|(6[5-7])|(7[0-8])|(8[\d])|(9[1,8,9]))\d{8})$/;   
    if(re.test(str)){
      // alert('right');
      phone_show.className = 'phone_show';
    }else {
      // alert('worng');
      phone_show.className = 'phone_show wrong';
    }
  }


  phone_ipt.onblur = function() {
    // alert('111');
    str2 = phone_ipt.value;
    // alert(str2);
    checkphone(str2);
}


function checktest(str) {
    str=test1.value;
    //11位数字，以1开头|邮箱
    var re = 	/^[0-9]{4}$/;   
    if(re.test(str)){
      // alert('right');
      test_show.className = 'test_show';
    }else {
      // alert('worng');
      test_show.className = 'test_show wrong';
    }
  }


  test1.onblur = function() {
    // alert('111');
    strs2 = test1.value;
    // alert(str2);
    checktest(strs2);
}




</script>
</html>